<div class="flex justify-content-center align-items-center h-screen">
  <form
    (ngSubmit)="onSubmit()"
    [formGroup]="loginForm"
    class="flex flex-column gap-1 login-form bg-white border-gray-100 border-1 border-round-2xl w-22rem p-3 px-5 justify-content-center"
  >
    <div class="flex flex-column my-5 gap-3">
      <span class="white-space-nowrap mx-auto text-2xl font-bold accent-navy">
        <img class="w-7rem" src="assets/logo.svg" alt="" />
      </span>
      <small class="mx-auto text-sm text-indigo-600">
        Don't have an account?
        <a
          href="auth/sign-up"
          class="no-underline text-sm font-bold text-indigo-700 hover:underline"
          >Sign-Up</a
        >
      </small>
    </div>

    <div class="flex flex-column mb-4">
      <input
        formControlName="email"
        class="p-inputtext"
        type="text"
        placeholder="Email"
      />
      @if (txtEmail.dirty || showFormErrors) {
      <small class="text-red-400 mx-1" *ngIf="txtEmail.hasError('required')">
        email is required
      </small>
      }
    </div>

    <div class="flex flex-column mb-3">
      <input
        formControlName="password"
        class="p-inputtext"
        placeholder="Password"
      />

      @if (txtPassword.dirty || showFormErrors) {
      <small class="text-red-400 mx-1" *ngIf="txtPassword.hasError('required')"
        >password is reqiured
      </small>
      }
    </div>

    @if (!loginState?.success && loginState?.data!=null) {
    <small class="text-red-400 mx-1" *ngIf="loginState?.data.code == 400">
      {{ loginState.data.messages }}
    </small>
    }

    <div class="mt-3 mb-5">
      <p-button
        type="submit"
        styleClass=""
        [disabled]=""
        raised="true"
        [loading]="loginState?.awaitingResponse"
        loadingIcon="pi pi-spin pi-spinner"
        [label]="loginState?.awaitingResponse ? '' : 'sign-in'"
        styleClass="w-full"
      >
      </p-button>
    </div>
  </form>
</div>
